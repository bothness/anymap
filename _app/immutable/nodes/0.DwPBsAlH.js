import{R as d,b as m,w as u}from"../chunks/control.B4RQKGvS.js";import{c as p,a as _}from"../chunks/disclose-version.CBFeP9qm.js";import{i as g}from"../chunks/legacy.CeR6iruq.js";import{h as b,a as h,x as y,ag as w,ah as x,ai as v,y as j,A as S,t as z}from"../chunks/runtime.DTQ_9slk.js";import{p as P}from"../chunks/props.BkfbzHDM.js";function T(a,e,i,n,r){var t;b&&h();var o=(t=e.$$slots)==null?void 0:t[i],s=!1;o===!0&&(o=e.children,s=!0),o===void 0||o(a,s?()=>n:n)}function k(a,e){throw new d(a,e.toString())}new TextEncoder;async function C({params:a,url:e,fetch:i}){let n=null;const r=a==null?void 0:a.code;if(r){const c=(await(await i(`https://nominatim.openstreetmap.org/lookup?osm_ids=${r}&format=json`)).json())[0];c||k(308,`${m}/`);const f=c.boundingbox.map(l=>+l);n={code:r,name:c.name,bbox:[f[2],f[0],f[3],f[1]],centroid:[+c.lon,+c.lat]}}const o=e.searchParams.get("maptiles")||"watercolor",s=(()=>{const t=+(e.searchParams.get("gridsize")||4);return t<3?3:t>6?6:t})();return{place:n,mapTiles:o,gridSize:s}}const q=Object.freeze(Object.defineProperty({__proto__:null,load:C},Symbol.toStringTag,{value:"Module"}));function B(a,e){y(e,!1);let i=P(e,"data",8),n=u(i());w("config",n);function r(t){t.place&&n.set(t)}x(()=>z(i()),()=>{r(i())}),v(),g();var o=p(),s=j(o);T(s,e,"default",{}),_(a,o),S()}export{B as component,q as universal};
